import{u as h,e as b,m,c as o,a as e,F as P,q as f,o as a,t as n}from"./index-JFD0rnoI.js";import{a as l}from"./axios-G2rPRu76.js";var g={VITE_APP_API_URL:"https://ec-course-api.hexschool.io",VITE_APP_API_PATH:"vue3-api-use",BASE_URL:"/Cafe-Website/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const A={class:"bg-db-dark rounded-4 px-5 py-4"},y={class:"table table-db-dark table-hover align-middle"},k=e("thead",null,[e("tr",null,[e("th",{scope:"col"},"項次"),e("th",{scope:"col"},"名稱"),e("th",{scope:"col"},"類別"),e("th",{scope:"col"},"原價"),e("th",{scope:"col"},"售價"),e("th",{scope:"col"},"是否啟用"),e("th",{scope:"col",class:"text-center"},"操作")])],-1),v={scope:"row",class:"ps-3"},x={key:0,class:"text-success fw-bold"},E={key:1,class:"text-danger fw-bold"},I=e("td",{class:"text-center"},[e("button",{type:"button",class:"btn btn-outline-db-primary py-1 fw-bold me-2 my-1"}," 編輯"),e("button",{type:"button",class:"btn btn-outline-danger py-1 fw-bold"}," 刪除")],-1),w={__name:"AdminProducts",setup($){const{VITE_APP_API_URL:r,VITE_APP_API_PATH:d}=g,i=h(),c=b([]),u=()=>{l.get(`${r}/v2/api/${d}/admin/products`).then(t=>{c.value=t.data.products,console.log(c.value)}).catch(t=>alert(t.response.data.message))},_=()=>{l.post(`${r}/v2/api/user/check`).then(()=>u()).catch(t=>{alert(t.response.data.message),i.push("/login")})};return m(()=>{const t=document.cookie.replace(/(?:(?:^|.*;\s*)token\s*=\s*([^;]*).*$)|^.*$/,"$1");l.defaults.headers.common.Authorization=t,_()}),(t,R)=>(a(),o("div",A,[e("table",y,[k,e("tbody",null,[(a(!0),o(P,null,f(c.value,(s,p)=>(a(),o("tr",{key:s.id},[e("th",v,n(++p),1),e("td",null,n(s.title),1),e("td",null,n(s.category),1),e("td",null,"$ "+n(s.origin_price),1),e("td",null,"$ "+n(s.price),1),e("td",null,[s.is_enabled?(a(),o("span",x,"已啟用")):(a(),o("span",E,"未啟用"))]),I]))),128))])])]))}};export{w as default};
